:root{
  --bg:#141418; --panel:#1b1b21; --ink:#e9e9ee;
  --muted:#a9a9b6; --accent:#ff28b8; --line:#2a2a32;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --serif: ui-serif, Georgia, "Times New Roman", serif;
  --sans: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink); font-family:var(--sans);
}

/* Header */
#topbar{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; gap:.75rem;
  padding:.6rem .8rem; background:var(--panel);
  border-bottom:1px solid var(--line);
}
#topbar #crumb{font-weight:700}
#topbar button{
  background:var(--accent); color:#000; border:none; padding:.4rem .6rem;
  border-radius:.6rem; font-weight:800; cursor:pointer;
}
#btn-panel{background:transparent; color:var(--accent); border:1px solid var(--accent)}

/* Drawer */
#drawer{
  position:fixed; inset:0 auto 0 0; width:300px; max-width:80vw;
  background:var(--panel); border-right:1px solid var(--line);
  translate:-100% 0; transition:translate .2s ease; z-index:6;
  display:flex; flex-direction:column; gap:.5rem; padding:.5rem;
}
#drawer.open{translate:0 0}
.drawer-head{display:flex; justify-content:space-between; align-items:center; padding:.25rem .25rem}
#search{margin:.25rem; padding:.5rem; width:calc(100% - .5rem); background:#0f0f13; color:var(--ink); border:1px solid var(--line); border-radius:.4rem}
#filelist{list-style:none; margin:0; padding:.25rem; overflow:auto}
#filelist li{padding:.4rem .5rem; border-radius:.4rem; cursor:pointer}
#filelist li:hover{background:#23232b}
#filelist li.folder-item{cursor:default}
#filelist li.folder-item:hover{background:none}
#filelist .folder{font-weight:700}
#filelist ul{list-style:none; margin:0; padding-left:1rem}

/* Panel Luna */
#panel{
  position:fixed; inset:0 0 auto auto; width:360px; max-width:85vw;
  background:var(--panel); border-left:1px solid var(--line);
  translate:100% 0; transition:translate .2s ease; z-index:6;
  padding:.5rem;
}
#panel.open{translate:0 0}
.panel-head{display:flex; justify-content:space-between; align-items:center}
.panel-body{display:flex; flex-direction:column; gap:.75rem}
.row{display:flex; gap:.5rem; align-items:center}
.muted{color:var(--muted); font-size:.9rem}
button{cursor:pointer}

/* Main */
main{max-width:900px; margin:1rem auto 4rem; padding:0 1rem}
#toolbar{
  position:sticky; bottom:0; display:flex; gap:.4rem;
  padding:.4rem; background:#0f0f13; border:1px solid var(--line);
  border-radius:.6rem; z-index:4; margin-bottom:.6rem;
}
#toolbar button{background:#22222a; color:var(--ink); border:1px solid var(--line); padding:.35rem .6rem; border-radius:.5rem}
#toolbar .accent{background:var(--accent); color:#000; border:none; font-weight:800}
#editor{
  width:100%; min-height:60vh; resize:vertical;
  background:#0f0f13; color:var(--ink); border:1px solid var(--line);
  border-radius:.6rem; padding:1rem; font: 14.5px/1.6 var(--mono);
}
.prose{line-height:1.7; font-family:var(--serif); font-size:18px}
.prose h1,.prose h2,.prose h3{font-family:var(--sans); margin-top:1.2em}
.prose blockquote{border-left:4px solid var(--line); padding-left:.9rem; color:var(--muted)}
.prose code{background:#202028; padding:.1rem .3rem; border-radius:.3rem}
.prose pre{background:#0f0f13; padding:1rem; border-radius:.6rem; overflow:auto; border:1px solid var(--line)}

/* Footer contador */
#statusbar{
  position:fixed; left:0; right:0; bottom:0; z-index:5;
  background:var(--accent); color:#000; font-weight:800;
  display:flex; align-items:center; gap:1rem; padding:.4rem .7rem;
}
#progress{flex:1; height:6px; background:#0004; border-radius:999px; overflow:hidden}
#bar{height:100%; width:0; background:#000; opacity:.6; transition:width .15s}
